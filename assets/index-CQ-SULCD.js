(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))d(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&d(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerPolicy&&(t.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?t.credentials="include":o.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function d(o){if(o.ep)return;o.ep=!0;const t=n(o);fetch(o.href,t)}})();const u={openModal:document.querySelector(".js-add-task"),backdrop:document.querySelector(".js-backdrop"),modal:document.querySelector(".js-modal"),closeModal:document.querySelector(".js-close"),form:document.querySelector(".modal-form")},v=e=>{const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),d=String(e.getDate()).padStart(2,"0"),o=String(e.getHours()).padStart(2,"0"),t=String(e.getMinutes()).padStart(2,"0"),c=`${r}-${n}-${d}T${o}:${t}`;u.form.elements.date.value=c},S=(e=new Date)=>{v(e),u.backdrop.classList.add("is-open")},p=()=>{u.backdrop.classList.remove("is-open")};u.openModal.addEventListener("click",()=>{S()});u.closeModal.addEventListener("click",()=>{p()});window.addEventListener("click",e=>{e.target===u.backdrop&&p()});document.addEventListener("keydown",function(e){e.key==="Escape"&&u.backdrop.classList.contains("is-open")&&p()});const f={calendar:document.querySelector(".calendar"),buttons:document.querySelectorAll(".js-prevnext"),curDate:document.querySelector(".js-month"),datepicker:document.querySelector(".js-choose-date")},L=new Date;let a=new Date,s=a.getMonth(),l=a.getFullYear();const b=["Sunday","Monday","Tueasday","Wednesday","Thursday","Friday","Saturday"],D=[{month:"January",days:31},{month:"February",days:M()},{month:"March",days:31},{month:"April",days:30},{month:"May",days:31},{month:"June",days:30},{month:"July",days:31},{month:"August",days:31},{month:"September",days:30},{month:"October",days:31},{month:"November",days:30},{month:"December",days:31}];function M(){const e=a.getFullYear();let r=28;return e%400===0&&(r=29),r}const E=(e,r,n)=>{r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()&&r.getDate()===n.getDate()&&e.classList.add("today")},g=document.createDocumentFragment(),h=(e=L)=>{f.calendar.innerHTML="";const r=D[a.getMonth()];f.curDate.innerText=`${r.month} ${l}`;const n=(t,c)=>{const m=document.createElement("li");m.classList.add("cell"),c||m.classList.add("disabled");let y;return c?y=new Date(l,s,t):y=new Date(l,s-1,t),E(m,y,e),m.setAttribute("data-date",y.toISOString()),m.innerHTML=`<div class="cell-features">
                        <p class="cell-date">${t}</p>
                        <p class="cell-month">${b[y.getDay()].substring(0,2)}</p>
                      </div>
                      <div class="tasks-container"></div>`,m},d=new Date(l,s,0).getDate(),o=new Date(l,s,0).getDay();for(let t=d-o;t<=d;t++)g.appendChild(n(t,!1));for(let t=1;t<=r.days;t++)g.appendChild(n(t,!0));f.calendar.appendChild(g)};h();f.buttons.forEach(e=>e.addEventListener("click",()=>{s=e.classList.contains("prev")?s-1:s+1,a=new Date(l,s,1),l=a.getFullYear(),s=a.getMonth(),h()}));f.datepicker.addEventListener("change",e=>{a=new Date(e.target.value),l=a.getFullYear(),s=a.getMonth(),h(a)});document.querySelectorAll(".cell").forEach(e=>{e.addEventListener("click",r=>{const n=r.target.getAttribute("data-date");S(new Date(n))})});const i={form:document.querySelector(".modal-form"),submitBtn:document.querySelector(".submit")},k=()=>{let e=localStorage.getItem("Tasks");return e?JSON.parse(e):[]},w=e=>{localStorage.setItem("Tasks",JSON.stringify(e))};i.form.querySelectorAll("input[required]").forEach(e=>e.addEventListener("change",()=>{i.form.checkValidity()&&i.submitBtn.removeAttribute("disabled")}));i.form.addEventListener("submit",(e,r)=>{e.preventDefault();const n={title:i.form.elements.title.value,description:i.form.elements.description.value,date:i.form.elements.date.value};r=k(),r.push(n),w(r),e.target.reset(),p()});
