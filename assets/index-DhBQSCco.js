(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const c of t.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function l(n){if(n.ep)return;n.ep=!0;const t=a(n);fetch(n.href,t)}})();const D={form:document.querySelector(".modal-form")},L=e=>{const o=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),l=String(e.getDate()).padStart(2,"0"),n=e.getHours(),t=e.getMinutes(),c=`${o}-${a}-${l}T0${n}:0${t}`;D.form.elements.date.value=c},u={openModal:document.querySelector(".js-add-task"),backdrop:document.querySelector(".js-backdrop"),modal:document.querySelector(".js-modal"),closeModal:document.querySelector(".js-close")},h=(e=new Date)=>{L(e),u.backdrop.classList.add("is-open")},f=()=>{u.backdrop.classList.remove("is-open")};u.openModal.addEventListener("click",()=>{h()});u.closeModal.addEventListener("click",()=>{f()});window.addEventListener("click",e=>{e.target===u.backdrop&&f()});document.addEventListener("keydown",function(e){e.key==="Escape"&&u.backdrop.classList.contains("is-open")&&f()});const y={calendar:document.querySelector(".calendar"),buttons:document.querySelectorAll(".js-prevnext"),curDate:document.querySelector(".js-month"),datepicker:document.querySelector(".js-choose-date")},S=new Date;let r=new Date,s=r.getMonth(),d=r.getFullYear();const b=["Sunday","Monday","Tueasday","Wednesday","Thursday","Friday","Saturday"],v=[{month:"January",days:31},{month:"February",days:M()},{month:"March",days:31},{month:"April",days:30},{month:"May",days:31},{month:"June",days:30},{month:"July",days:31},{month:"August",days:31},{month:"September",days:30},{month:"October",days:31},{month:"November",days:30},{month:"December",days:31}];function M(){const e=r.getFullYear();let o=28;return e%400===0&&(o=29),o}const w=(e,o,a)=>{o.getFullYear()===a.getFullYear()&&o.getMonth()===a.getMonth()&&o.getDate()===a.getDate()&&e.classList.add("today")},p=document.createDocumentFragment(),g=(e=S)=>{y.calendar.innerHTML="";const o=v[r.getMonth()];y.curDate.innerText=`${o.month} ${d}`;const a=(t,c)=>{const i=document.createElement("li");i.classList.add("cell"),c||i.classList.add("disabled");let m;return c?m=new Date(d,s,t):m=new Date(d,s-1,t),w(i,m,e),i.setAttribute("data-date",m.toISOString()),i.innerHTML=`<div class="cell-features">
                        <p class="cell-date">${t}</p>
                        <p class="cell-month">${b[m.getDay()].substring(0,2)}</p>
                      </div>
                      <div class="tasks-container"></div>`,i},l=new Date(d,s,0).getDate(),n=new Date(d,s,0).getDay();for(let t=l-n;t<=l;t++)p.appendChild(a(t,!1));for(let t=1;t<=o.days;t++)p.appendChild(a(t,!0));y.calendar.appendChild(p)};g();y.buttons.forEach(e=>e.addEventListener("click",()=>{s=e.classList.contains("prev")?s-1:s+1,r=new Date(d,s,1),d=r.getFullYear(),s=r.getMonth(),g()}));y.datepicker.addEventListener("change",e=>{r=new Date(e.target.value),d=r.getFullYear(),s=r.getMonth(),g(r)});document.querySelectorAll(".cell").forEach(e=>{e.addEventListener("click",o=>{const a=o.target.getAttribute("data-date");h(new Date(a))})});
